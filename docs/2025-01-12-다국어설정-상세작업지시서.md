# 다국어 설정 상세 작업지시서

## 📋 작업 개요
- **프로젝트**: 만다라트 플래너 다국어 설정
- **기간**: 4-6주 (3단계)
- **주요 기술**: Next.js 15 App Router + next-intl
- **지원 언어**: 한국어(기본), 영어, 일본어

---

## 🚀 Phase 1: 기반 구조 설정 (1-2주)

### Task 1.1: 의존성 설치 및 기본 설정
**우선순위**: 🔴 High  
**예상 소요시간**: 1일

#### 세부 작업:
1. **next-intl 라이브러리 설치**
   ```bash
   npm install next-intl
   ```

2. **프로젝트 구조 생성**
   - `src/i18n/` 디렉토리 생성
   - `src/messages/` 디렉토리 생성
   - 초기 설정 파일들 생성

3. **설정 파일 작성**
   - `i18n/routing.ts` - 라우팅 설정
   - `i18n/request.ts` - 서버 컴포넌트 설정
   - `next.config.ts` 수정 - next-intl 플러그인 추가

#### 검증 기준:
- [ ] next-intl 정상 설치 확인
- [ ] 설정 파일 생성 완료
- [ ] 빌드 에러 없음

---

### Task 1.2: 라우팅 구조 변경
**우선순위**: 🔴 High  
**예상 소요시간**: 2-3일

#### 세부 작업:
1. **현재 라우팅 구조 백업**
   ```
   현재: src/app/(dashboard)/app/
   변경: src/app/[locale]/(dashboard)/app/
   ```

2. **[locale] 동적 라우팅 구조 생성**
   - `src/app/[locale]/` 디렉토리 생성
   - 기존 라우팅 파일들 이동
   - 레이아웃 파일 수정

3. **미들웨어 설정**
   - `middleware.ts` 생성/수정
   - 로케일 감지 및 리다이렉트 로직 구현

#### 검증 기준:
- [ ] `/ko/app`, `/en/app`, `/ja/app` 라우팅 동작
- [ ] 기본 로케일 리다이렉트 정상 작동
- [ ] 기존 기능 정상 동작 확인

---

### Task 1.3: 기본 번역 파일 구조 생성
**우선순위**: 🟡 Medium  
**예상 소요시간**: 1일

#### 세부 작업:
1. **번역 파일 템플릿 생성**
   ```
   src/messages/
   ├── ko.json (기본 언어)
   ├── en.json (영어)
   └── ja.json (일본어)
   ```

2. **네임스페이스 구조 설계**
   ```json
   {
     "common": { "save": "저장", "cancel": "취소" },
     "auth": { "login": {...}, "signup": {...} },
     "dashboard": {...},
     "settings": {...}
   }
   ```

3. **기본 공통 텍스트 번역**
   - 버튼 텍스트 (저장, 취소, 삭제 등)
   - 상태 메시지 (로딩, 에러 등)

#### 검증 기준:
- [ ] 3개 언어 번역 파일 생성 완료
- [ ] 기본 네임스페이스 구조 완성
- [ ] 공통 텍스트 번역 완료

---

## 🎯 Phase 2: 핵심 페이지 번역 (2-3주)

### Task 2.1: 인증 페이지 번역
**우선순위**: 🔴 High  
**예상 소요시간**: 3-4일

#### 세부 작업:
1. **로그인 페이지 (`/auth/login`) 번역**
   - 컴포넌트에 `useTranslations` 훅 적용
   - 폼 라벨, 버튼, 에러 메시지 번역
   - 번역 파일에 auth.login 네임스페이스 추가

2. **회원가입 페이지 (`/auth/signup`) 번역**
   - 동일한 방식으로 번역 적용
   - 유효성 검사 메시지 번역

3. **인증 관련 공통 컴포넌트 번역**
   - `AuthForm.tsx`, `AuthLayout.tsx` 번역

#### 번역 대상 파일:
- `src/app/auth/login/page.tsx`
- `src/app/auth/signup/page.tsx`
- `src/components/auth/AuthForm.tsx`
- `src/components/auth/AuthLayout.tsx`

#### 검증 기준:
- [ ] 3개 언어로 인증 페이지 정상 표시
- [ ] 폼 유효성 검사 메시지 번역 적용
- [ ] 에러 메시지 다국어 처리

---

### Task 2.2: 메인 대시보드 번역
**우선순위**: 🔴 High  
**예상 소요시간**: 4-5일

#### 세부 작업:
1. **대시보드 메인 페이지 (`/app/page.tsx`) 번역**
   - 페이지 제목, 설명 텍스트 번역
   - 빈 상태 메시지 번역
   - 버튼 및 액션 텍스트 번역

2. **만다라트 관련 컴포넌트 번역**
   - `MandalartBoard.tsx` - 보드 관련 텍스트
   - `MandalartCard.tsx` - 카드 컴포넌트 텍스트
   - `MandalartGrid.tsx` - 그리드 관련 텍스트

3. **네비게이션 및 레이아웃 번역**
   - `AppHeaderBar.tsx` - 헤더 텍스트
   - `BottomBar.tsx` - 하단 네비게이션
   - 브레드크럼 번역

#### 번역 대상 파일:
- `src/app/(dashboard)/app/page.tsx`
- `src/components/dashboard/MandalartBoard.tsx`
- `src/components/dashboard/MandalartCard*.tsx`
- `src/components/layout/AppHeaderBar.tsx`
- `src/components/layout/BottomBar.tsx`

#### 검증 기준:
- [ ] 대시보드 모든 텍스트 3개 언어 지원
- [ ] 반응형 레이아웃에서 텍스트 오버플로우 없음
- [ ] 네비게이션 번역 정상 동작

---

### Task 2.3: 설정 페이지 번역
**우선순위**: 🟡 Medium  
**예상 소요시간**: 2-3일

#### 세부 작업:
1. **설정 페이지 메인 (`/app/settings`) 번역**
   - 설정 섹션 제목 번역
   - 설정 항목 및 설명 번역
   - 모달 및 다이얼로그 번역

2. **언어 선택 기능 추가**
   - 설정 페이지에 언어 선택 옵션 추가
   - 사용자 언어 설정 저장 로직 구현
   - localStorage 또는 사용자 프로필에 저장

#### 번역 대상 파일:
- `src/app/(dashboard)/app/settings/page.tsx`

#### 검증 기준:
- [ ] 설정 페이지 모든 항목 번역 완료
- [ ] 언어 선택 기능 정상 작동
- [ ] 언어 변경 시 즉시 반영

---

### Task 2.4: 셀 상세 페이지 번역
**우선순위**: 🟡 Medium  
**예상 소요시간**: 3-4일

#### 세부 작업:
1. **셀 페이지 (`/app/cell/[id]`) 번역**
   - 셀 편집 폼 번역
   - 진행 상황 관련 텍스트 번역
   - 컨텍스트 메뉴 번역

2. **셀 관련 컴포넌트 번역**
   - `CellEditorForm.tsx` - 편집 폼
   - `MandalartCell.tsx` - 셀 컴포넌트
   - `ProgressSidebar.tsx` - 진행률 사이드바

#### 번역 대상 파일:
- `src/app/(dashboard)/app/cell/[id]/page.tsx`
- `src/components/dashboard/cells/CellEditorForm.tsx`
- `src/components/dashboard/cells/MandalartCell.tsx`
- `src/components/dashboard/cells/ProgressSidebar.tsx`

#### 검증 기준:
- [ ] 셀 편집 기능 다국어 지원
- [ ] 진행률 표시 번역 완료
- [ ] 컨텍스트 메뉴 번역 적용

---

## ⚡ Phase 3: 고급 기능 구현 (1-2주)

### Task 3.1: 메타데이터 및 SEO 다국어 처리
**우선순위**: 🟡 Medium  
**예상 소요시간**: 2-3일

#### 세부 작업:
1. **동적 메타데이터 생성**
   - 각 페이지별 다국어 메타데이터 구현
   - OpenGraph, Twitter Card 다국어 지원

2. **Sitemap 다국어 지원**
   - 언어별 URL 구조를 포함한 sitemap 생성
   - hreflang 태그 추가

#### 검증 기준:
- [ ] 각 언어별 메타데이터 정상 출력
- [ ] 검색엔진 최적화 태그 적용

---

### Task 3.2: 날짜/시간 현지화
**우선순위**: 🟡 Medium  
**예상 소요시간**: 1-2일

#### 세부 작업:
1. **날짜 형식 현지화**
   - `toLocaleDateString` 로케일별 적용
   - 상대적 시간 표시 번역 (방금 전, 1시간 전 등)

2. **숫자 형식 현지화**
   - 천 단위 구분자 현지화
   - 퍼센트 표시 현지화

#### 검증 기준:
- [ ] 언어별 날짜 형식 정상 표시
- [ ] 숫자 형식 현지화 적용

---

### Task 3.3: 에러 처리 및 로딩 상태 번역
**우선순위**: 🟡 Medium  
**예상 소요시간**: 1-2일

#### 세부 작업:
1. **에러 메시지 번역**
   - API 에러 메시지 다국어 처리
   - 폼 유효성 검사 에러 번역

2. **로딩 상태 번역**
   - 스켈레톤 로딩 텍스트 번역
   - 진행 상황 메시지 번역

#### 검증 기준:
- [ ] 모든 에러 메시지 번역 완료
- [ ] 로딩 상태 다국어 지원

---

## 🔍 부가 요소 및 추가 고려사항

### 고급 기능 옵션들:

#### 1. 🌐 URL 구조 최적화
**선택 옵션**: 
- A) 서브도메인 방식: `ko.mandalart.app`, `en.mandalart.app`
- B) 경로 방식: `/ko/app`, `/en/app` (현재 계획)
- C) 도메인 방식: `mandalart.kr`, `mandalart.com`

**질문**: URL 구조를 어떻게 설정하시겠습니까?

#### 2. 🎨 폰트 최적화
**고려사항**:
- 일본어 한자 표시를 위한 Noto Sans JP 폰트 추가
- 영어권 사용자를 위한 별도 폰트 최적화
- 폰트 로딩 성능 최적화

**질문**: 언어별 폰트 최적화를 진행하시겠습니까?

#### 3. 📱 모바일 키보드 최적화
**고려사항**:
- 언어별 모바일 키보드 타입 설정
- IME(Input Method Editor) 지원 최적화
- 언어 전환 시 키보드 레이아웃 조정

**질문**: 모바일 다국어 입력 최적화를 포함하시겠습니까?

#### 4. 🔄 실시간 언어 전환
**옵션**:
- A) 페이지 새로고침 방식 (간단)
- B) 실시간 전환 (복잡하지만 UX 향상)

**질문**: 언어 전환 방식을 어떻게 구현하시겠습니까?

#### 5. 📊 다국어 분석 및 모니터링
**고려사항**:
- 언어별 사용자 행동 분석
- 번역 품질 모니터링 도구
- A/B 테스트를 위한 언어별 분리

**질문**: 분석 및 모니터링 도구를 추가하시겠습니까?

#### 6. 💾 번역 관리 시스템
**옵션**:
- A) 파일 기반 관리 (현재 계획)
- B) CMS 연동 (Contentful, Strapi 등)
- C) 번역 관리 도구 (Lokalise, Crowdin 등)

**질문**: 번역 관리 방식을 어떻게 설정하시겠습니까?

---

## 🎯 즉시 시작할 준비가 된 작업

다음 중 어떤 방식으로 진행하시겠습니까?

1. **🚀 즉시 Phase 1 시작**: 기본 설정부터 단계적으로 진행
2. **🔧 부가 기능 먼저 결정**: 위의 추가 고려사항들을 먼저 논의 후 진행
3. **📋 커스텀 계획**: 특정 부분만 선택적으로 구현

**어떤 방식으로 진행하시겠습니까?**