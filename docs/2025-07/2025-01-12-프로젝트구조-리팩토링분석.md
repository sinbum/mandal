# Mandalart Application - í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ë¦¬íŒ©í† ë§ ë¶„ì„

*ìƒì„±ì¼: 2025ë…„ 1ì›” 12ì¼*

## ê°œìš”

Mandalart ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ì ì¸ í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ì•„í‚¤í…ì²˜ë¥¼ ë¶„ì„í•˜ì—¬ ë¦¬íŒ©í† ë§ ê¸°íšŒì™€ ì•„í‚¤í…ì²˜ ê°œì„ ì ì„ ì‹ë³„í•œ ì¢…í•© ë¶„ì„ ë³´ê³ ì„œì…ë‹ˆë‹¤.

---

## ğŸ“ íŒ¨í‚¤ì§€ êµ¬ì¡° ë¶„ì„

### 1. í˜„ì¬ ë””ë ‰í† ë¦¬ êµ¬ì¡° í‰ê°€

**ì¥ì :**
- ëª…í™•í•œ ë„ë©”ì¸ ê¸°ë°˜ ë¶„ë¦¬ (`dashboard`, `auth`, `landing`)
- ë…¼ë¦¬ì ì¸ ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°
- ê´€ì‹¬ì‚¬ ë¶„ë¦¬ê°€ ì˜ëœ ì „ìš© í´ë”ë“¤ (`hooks`, `services`, `types`, `utils`)
- ìµœì‹  Next.js 15 App Router êµ¬ì¡° ì‚¬ìš©

**ê°œì„  í•„ìš” ì˜ì—­:**
- **í˜¼ì¬ëœ ì»´í¬ë„ŒíŠ¸ êµ¬ì„±**: ë„ë©”ì¸ë³„ ì»´í¬ë„ŒíŠ¸(`dashboard/cells/`)ì™€ ë²”ìš© ì»´í¬ë„ŒíŠ¸(`ui/`) í˜¼ì¬
- **ì¼ê´€ì„± ì—†ëŠ” ì¤‘ì²© êµ¬ì¡°**: `components/landing/studio-ts/` ê°™ì€ ë ˆê±°ì‹œ/ë¯¸ì‚¬ìš© ì½”ë“œ ì¡´ì¬
- **ê¸°ëŠ¥ ëª¨ë“ˆ ë¶€ì¬**: ëŒ€í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ„í•œ ëª…í™•í•œ ê¸°ëŠ¥ ê¸°ë°˜ êµ¬ì„± ì—†ìŒ

**ê¶Œì¥ êµ¬ì¡°:**
```
src/
â”œâ”€â”€ app/                    # Next.js App Router (í˜„ì¬ ìœ ì§€)
â”œâ”€â”€ features/              # ê¸°ëŠ¥ ê¸°ë°˜ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ mandalart/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”œâ”€â”€ auth/
â”‚   â””â”€â”€ landing/
â”œâ”€â”€ shared/                # ê¸°ëŠ¥ ê°„ ê³µìœ 
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/           # ë²”ìš© UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ layout/       # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ animations/   # ì• ë‹ˆë©”ì´ì…˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ hooks/            # ë²”ìš© í›…
â”‚   â”œâ”€â”€ utils/            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â””â”€â”€ types/            # ê³µìœ  íƒ€ì…
â”œâ”€â”€ services/             # ì™¸ë¶€ ì„œë¹„ìŠ¤
â””â”€â”€ lib/                  # ì„œë“œíŒŒí‹° í†µí•©
```

### 2. ì»´í¬ë„ŒíŠ¸ êµ¬ì„± ë° ë„ë©”ì¸ ê²½ê³„

**í˜„ì¬ ë¬¸ì œì :**
- **ê°•í•œ ê²°í•©**: `MandalartGrid`ê°€ 30ê°œ ì´ìƒì˜ propsë¥¼ ê°€ì ¸ ê³¼ë„í•œ ë§¤ê°œë³€ìˆ˜í™”
- **ì±…ì„ í˜¼ì¬**: ì»´í¬ë„ŒíŠ¸ê°€ í”„ë ˆì  í…Œì´ì…˜ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ëª¨ë‘ ì²˜ë¦¬
- **ì¼ê´€ì„± ì—†ëŠ” ì¶”ìƒí™” ìˆ˜ì¤€**: ì¼ë¶€ëŠ” ë„ˆë¬´ ì„¸ë¶„í™”, ì¼ë¶€ëŠ” ë„ˆë¬´ ê±°ëŒ€

**ë„ë©”ì¸ ê²½ê³„ ë¶„ì„:**
- âœ… **ì¸ì¦**: ì˜ ë¶„ë¦¬ë¨ (`auth/`)
- âœ… **ëœë”© í˜ì´ì§€**: ëª…í™•í•œ ë¶„ë¦¬ (`landing/`)
- âš ï¸ **ëŒ€ì‹œë³´ë“œ**: ì…€ë³„ ë¡œì§ê³¼ í˜¼ì¬
- âŒ **UI ì»´í¬ë„ŒíŠ¸**: ë²”ìš©ê³¼ ë„ë©”ì¸ë³„ ì»´í¬ë„ŒíŠ¸ í˜¼ì¬

---

## ğŸ”§ ì½”ë“œ ë¦¬íŒ©í† ë§ ê¸°íšŒ

### 1. ë¶„í•´ê°€ í•„ìš”í•œ ëŒ€í˜• ì»´í¬ë„ŒíŠ¸

**MandalartGrid (392ì¤„)**
```typescript
// í˜„ì¬: ê±°ëŒ€í•œ ê·¸ë¦¬ë“œ ì»´í¬ë„ŒíŠ¸
const MandalartGrid: React.FC<MandalartGridProps> = ({ /* 30+ props */ }) => {
  // ë Œë”ë§ ë¡œì§, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜, ì ‘ê·¼ì„± ë“±
}

// ê¶Œì¥: ì»´í¬ì§€ì…˜ ê¸°ë°˜ ì ‘ê·¼
const MandalartGrid = ({ cells, centerCell, ...props }) => (
  <GridContainer {...props}>
    <GridStatistics cells={cells} />
    <GridLayout>
      <CenterCell cell={centerCell} />
      <SurroundingCells cells={cells} />
    </GridLayout>
  </GridContainer>
);
```

**useMandalart í›… (631ì¤„)**
```typescript
// í˜„ì¬: ë‹¨ì¼ ê±°ëŒ€ í›…
const useMandalart = (mandalartId?: string): UseMandalartResult => {
  // 20ê°œ ì´ìƒì˜ ì„œë¡œ ë‹¤ë¥¸ ê´€ì‹¬ì‚¬ê°€ í˜¼ì¬
}

// ê¶Œì¥: ì»´í¬ì§€ì…˜ íŒ¨í„´
const useMandalart = (mandalartId?: string) => {
  const data = useMandalartData(mandalartId);
  const navigation = useMandalartNavigation(data.mandalart);
  const operations = useMandalartOperations(data.mandalart);
  
  return { ...data, ...navigation, ...operations };
};
```

### 2. ì¶”ìƒí™”í•  ìˆ˜ ìˆëŠ” ë°˜ë³µ ì½”ë“œ íŒ¨í„´

**ë°ì´í„°ë² ì´ìŠ¤ ë³€í™˜ íŒ¨í„´ (5íšŒ ì´ìƒ ë°˜ë³µ)**
```typescript
// í˜„ì¬: ì—¬ëŸ¬ ê³³ì—ì„œ ë°˜ë³µ
const convertDbCellToModel = (dbCell) => ({
  id: dbCell.id,
  topic: dbCell.topic || '',
  memo: dbCell.memo || '',
  // ... 10ê°œ ì´ìƒì˜ í•„ë“œ ë§¤í•‘
});

// ê¶Œì¥: ë²”ìš© ë§¤í¼ ìœ í‹¸ë¦¬í‹°
const createDbMapper = <TDb, TModel>(fieldMap: FieldMap<TDb, TModel>) => 
  (dbRecord: TDb): TModel => mapFields(dbRecord, fieldMap);

const cellMapper = createDbMapper<DbCell, MandalartCell>({
  id: 'id',
  topic: (db) => db.topic || '',
  imageUrl: 'image_url',
  isCompleted: 'is_completed',
  // ...
});
```

### 3. ì„œë¹„ìŠ¤ ë ˆì´ì–´ ë¶„í•´

**í˜„ì¬ ë‹¨ì¼ ì„œë¹„ìŠ¤ (1,595ì¤„)**
```typescript
export class MandalartService {
  // ì…€ ì‘ì—…
  async fetchCellById(cellId: string) { /* ... */ }
  async updateCell(cellId: string, updates: Partial<MandalartCell>) { /* ... */ }
  
  // ìºì‹œ ì‘ì—…
  private async invalidateCacheForCell(cellId: string) { /* ... */ }
  
  // ì§„í–‰ë¥  ê³„ì‚°
  private async calculateMandalartProgress(mandalartId: string) { /* ... */ }
  
  // ë°ì´í„° ë³€í™˜
  private convertDbCellToModel(dbCell: any) { /* ... */ }
}
```

**ê¶Œì¥ ì„œë¹„ìŠ¤ ë¶„í•´**
```typescript
// ë„ë©”ì¸ë³„ ì„œë¹„ìŠ¤
export class CellService {
  async getById(id: string): Promise<MandalartCell | null> { /* ... */ }
  async update(id: string, updates: Partial<MandalartCell>): Promise<void> { /* ... */ }
  async create(data: CreateCellRequest): Promise<string> { /* ... */ }
  async delete(id: string): Promise<void> { /* ... */ }
}

export class ProgressService {
  async calculateFor(mandalartId: string): Promise<ProgressInfo> { /* ... */ }
  async getStats(cellId: string): Promise<CellStats> { /* ... */ }
}

export class CacheService {
  async invalidate(key: string): Promise<void> { /* ... */ }
  async sync(userId: string): Promise<void> { /* ... */ }
}

// í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•œ íŒŒì‚¬ë“œ
export class MandalartService {
  constructor(
    private cellService: CellService,
    private progressService: ProgressService,
    private cacheService: CacheService
  ) {}
  
  // ì ì ˆí•œ ì„œë¹„ìŠ¤ë¡œ ìœ„ì„
  async fetchCellById(id: string) {
    return this.cellService.getById(id);
  }
}
```

---

## ğŸ—ï¸ ë””ìì¸ íŒ¨í„´ ì ìš©

### 1. í˜„ì¬ íŒ¨í„´ (ìœ ì§€í•  ì¢‹ì€ íŒ¨í„´ë“¤)

**âœ… ì„œë¹„ìŠ¤ ë ˆì´ì–´ íŒ¨í„´**
- UIì™€ ë°ì´í„° ì ‘ê·¼ ê°„ ëª…í™•í•œ ë¶„ë¦¬
- ì¤‘ì•™ì§‘ì¤‘ì‹ API ê´€ë¦¬

**âœ… ì»¤ìŠ¤í…€ í›… íŒ¨í„´**
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœ ë¡œì§
- ì„œë¡œ ë‹¤ë¥¸ í›… ê°„ ì¢‹ì€ ê´€ì‹¬ì‚¬ ë¶„ë¦¬

**âœ… ì»´íŒŒìš´ë“œ ì»´í¬ë„ŒíŠ¸ íŒ¨í„´**
```typescript
// MandalartGridì˜ ì¢‹ì€ ì˜ˆì‹œ
<GridContainer>
  <CenterCell />
  <SurroundingCells />
</GridContainer>
```

### 2. ì½”ë“œë² ì´ìŠ¤ì— ë„ì›€ì´ ë  ëˆ„ë½ëœ íŒ¨í„´

**âŒ ë ˆí¬ì§€í† ë¦¬ íŒ¨í„´**
```typescript
// ê¶Œì¥: ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™”
interface CellRepository {
  findById(id: string): Promise<MandalartCell | null>;
  findByParent(parentId: string): Promise<MandalartCell[]>;
  save(cell: MandalartCell): Promise<void>;
  delete(id: string): Promise<void>;
}

class SupabaseCellRepository implements CellRepository {
  // Supabase íŠ¹í™” êµ¬í˜„
}

class CacheableCellRepository implements CellRepository {
  constructor(
    private baseRepository: CellRepository,
    private cache: CacheService
  ) {}
  // ìºì‹± ë ˆì´ì–´ ì¶”ê°€
}
```

**âŒ ì»¤ë§¨ë“œ íŒ¨í„´ (ì‘ì—… ìº¡ìŠí™”)**
```typescript
// ê¶Œì¥: ì‘ì—… ìº¡ìŠí™”
interface Command {
  execute(): Promise<void>;
  undo(): Promise<void>;
}

class UpdateCellCommand implements Command {
  constructor(
    private cellId: string,
    private updates: Partial<MandalartCell>,
    private cellService: CellService
  ) {}
  
  async execute() {
    await this.cellService.update(this.cellId, this.updates);
  }
  
  async undo() {
    // ì´ì „ ìƒíƒœ ë³µì›
  }
}
```

**âŒ ì˜µì €ë²„ íŒ¨í„´ (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)**
```typescript
// ê¶Œì¥: ì´ë²¤íŠ¸ ê¸°ë°˜ ì—…ë°ì´íŠ¸
class MandalartEventBus {
  private listeners = new Map<string, Set<Function>>();
  
  subscribe(event: string, callback: Function) {
    if (!this.listeners.has(event)) {
      this.listeners.set(event, new Set());
    }
    this.listeners.get(event)!.add(callback);
  }
  
  emit(event: string, data: any) {
    this.listeners.get(event)?.forEach(callback => callback(data));
  }
}
```

### 3. í•´ê²°í•´ì•¼ í•  ì•ˆí‹°íŒ¨í„´

**âŒ ê°“ ì˜¤ë¸Œì íŠ¸**
- `MandalartService` í´ë˜ìŠ¤ (1,595ì¤„)
- `useMandalart` í›… (631ì¤„)

**âŒ Prop Drilling**
```typescript
// í˜„ì¬: MandalartGridê°€ 30ê°œ ì´ìƒì˜ props ë³´ìœ 
interface MandalartGridProps {
  centerCell: MandalartCell;
  cells: MandalartCell[];
  onCellClick: (cell: MandalartCell) => void;
  onCellHover?: (cell: MandalartCell) => void;
  // ... 26ê°œ ì´ìƒì˜ ì¶”ê°€ props
}
```

---

## ğŸ“ˆ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### 1. íŒ€ ê°œë°œì„ ìœ„í•œ íŒŒì¼ êµ¬ì„±

**í˜„ì¬ ë¬¸ì œì :**
- ëŒ€í˜• íŒŒì¼ë“¤(1,595ì¤„ ì´ìƒ)ë¡œ ì¸í•œ ë‹¤ì¤‘ ê°œë°œì ì‘ì—… ì–´ë ¤ì›€
- í˜¼ì¬ëœ ê´€ì‹¬ì‚¬ë¡œ ì¸í•œ ë³‘ë ¬ ê°œë°œ ë„ì „
- ëª…í™•í•˜ì§€ ì•Šì€ ì†Œìœ ê¶Œ ê²½ê³„

**ê¶Œì¥ì‚¬í•­:**
```
features/
â”œâ”€â”€ mandalart/
â”‚   â”œâ”€â”€ api/           # íŒ€ A: ë°±ì—”ë“œ í†µí•©
â”‚   â”œâ”€â”€ components/    # íŒ€ B: UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ hooks/         # íŒ€ C: ìƒíƒœ ê´€ë¦¬
â”‚   â””â”€â”€ types/         # ê³µìœ : íƒ€ì… ì •ì˜
```

### 2. ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±

**í˜„ì¬ ìƒíƒœ:**
- UI ì»´í¬ë„ŒíŠ¸ì™€ ë„ë©”ì¸ ë¡œì§ í˜¼ì¬
- íŠ¹ì • ë°ì´í„° êµ¬ì¡°ì— í•˜ë“œì½”ë”©ëœ ì˜ì¡´ì„±
- ì œí•œëœ ì„¤ì • ê°€ëŠ¥ì„±

**ê¶Œì¥ ì ‘ê·¼ë²•:**
```typescript
// ë²”ìš©ì ì´ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê·¸ë¦¬ë“œ ì»´í¬ë„ŒíŠ¸
interface GridProps<T> {
  items: T[];
  centerItem: T;
  renderItem: (item: T) => ReactNode;
  onItemClick: (item: T) => void;
}

const Grid = <T,>({ items, centerItem, renderItem, onItemClick }: GridProps<T>) => {
  // ë²”ìš© ê·¸ë¦¬ë“œ ë¡œì§
};

// ë„ë©”ì¸ë³„ ì‚¬ìš©
const MandalartGrid = (props: MandalartGridProps) => (
  <Grid
    items={props.cells}
    centerItem={props.centerCell}
    renderItem={(cell) => <MandalartCell cell={cell} />}
    onItemClick={props.onCellClick}
  />
);
```

### 3. íƒ€ì… ì•ˆì „ì„± ë° ìœ ì§€ë³´ìˆ˜ì„±

**í˜„ì¬ ë¬¸ì œì :**
- `Partial<MandalartCell>` ê´‘ë²”ìœ„ ì‚¬ìš©
- IDì˜ ëŸ°íƒ€ì„ ë¬¸ìì—´ ì¡°ì‘ (`virtual-${timestamp}`)
- ì œí•œëœ ì»´íŒŒì¼ íƒ€ì„ ê²€ì¦

**ê¶Œì¥ ê°œì„ ì‚¬í•­:**
```typescript
// ë” ë‚˜ì€ íƒ€ì… ì•ˆì „ì„±ì„ ìœ„í•œ ë¸Œëœë“œ íƒ€ì…
type CellId = string & { readonly brand: unique symbol };
type VirtualCellId = string & { readonly brand: unique symbol };
type MandalartId = string & { readonly brand: unique symbol };

// íƒ€ì… ì•ˆì „ì„±ì„ ìœ„í•œ íŒ©í† ë¦¬ í•¨ìˆ˜
const createCellId = (id: string): CellId => id as CellId;
const createVirtualCellId = (timestamp: number): VirtualCellId => 
  `virtual-${timestamp}` as VirtualCellId;

// ë” êµ¬ì²´ì ì¸ ì—…ë°ì´íŠ¸ íƒ€ì…
interface CellContentUpdate {
  topic?: string;
  memo?: string;
  color?: string;
}

interface CellStateUpdate {
  isCompleted?: boolean;
}

type CellUpdate = CellContentUpdate | CellStateUpdate;
```

---

## ğŸ¯ êµ¬ì²´ì  ê¶Œì¥ì‚¬í•­

### 1. ë””ë ‰í† ë¦¬ ì¬êµ¬ì„± ì œì•ˆ

```
src/
â”œâ”€â”€ app/                           # Next.js App Router (í˜„ì¬ ìœ ì§€)
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ mandalart/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Grid/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MandalartGrid.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GridCell.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ GridStatistics.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Cell/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CellEditor.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CellContextMenu.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CellBreadcrumbs.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Board/
â”‚   â”‚   â”‚       â”œâ”€â”€ MandalartBoard.tsx
â”‚   â”‚   â”‚       â””â”€â”€ BoardNavigation.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useMandalartData.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useMandalartNavigation.ts
â”‚   â”‚   â”‚   â””â”€â”€ useMandalartOperations.ts
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ CellService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ MandalartService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressService.ts
â”‚   â”‚   â”‚   â””â”€â”€ CacheService.ts
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â”œâ”€â”€ cell.ts
â”‚   â”‚       â”œâ”€â”€ mandalart.ts
â”‚   â”‚       â””â”€â”€ progress.ts
â”‚   â”œâ”€â”€ auth/
â”‚   â””â”€â”€ dashboard/
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/              # ë²”ìš© UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ layout/          # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ animations/      # ì• ë‹ˆë©”ì´ì…˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useLocalStorage.ts
â”‚   â”‚   â”œâ”€â”€ useDebounce.ts
â”‚   â”‚   â””â”€â”€ useEventBus.ts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ EventBus.ts
â”‚   â”‚   â”œâ”€â”€ CacheManager.ts
â”‚   â”‚   â””â”€â”€ ApiClient.ts
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ validation.ts
â”‚       â”œâ”€â”€ formatters.ts
â”‚       â””â”€â”€ mappers.ts
â””â”€â”€ lib/                     # ì„œë“œíŒŒí‹° ì„¤ì •
    â”œâ”€â”€ supabase/
    â”œâ”€â”€ auth/
    â””â”€â”€ design-system/
```

### 2. ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ ê¸°íšŒ

**MandalartGrid â†’ ë‹¤ì¤‘ ì»´í¬ë„ŒíŠ¸**
```typescript
// í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì¶”ì¶œ
const useGridKeyboardNavigation = (gridSize: number) => {
  const [focusedIndex, setFocusedIndex] = useState<number | null>(null);
  
  const handleKeyDown = useCallback((e: KeyboardEvent, currentIndex: number) => {
    // ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§
  }, []);
  
  return { focusedIndex, handleKeyDown };
};

// ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ë¡œì§ ì¶”ì¶œ
const GridLayout: React.FC<{
  children: ReactNode;
  columns: number;
  gap?: string;
}> = ({ children, columns, gap = "2" }) => (
  <div className={`grid grid-cols-${columns} gap-${gap}`}>
    {children}
  </div>
);

// ì…€ í¬ì§€ì…”ë‹ ì¶”ì¶œ
const useCellPositioning = (cells: MandalartCell[]) => {
  return useMemo(() => {
    // ìœ„ì¹˜ ê³„ì‚° ë¡œì§
  }, [cells]);
};
```

### 3. í›… ì»´í¬ì§€ì…˜ ì „ëµ

**useMandalartë¥¼ ì§‘ì¤‘ëœ í›…ë“¤ë¡œ ë¶„í• **
```typescript
// ë°ì´í„° ê´€ë¦¬
const useMandalartData = (mandalartId?: string) => {
  const [mandalart, setMandalart] = useState<Mandalart | null>(null);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì™€ ìƒíƒœ ê´€ë¦¬ì—ë§Œ ì§‘ì¤‘
};

// ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§
const useMandalartNavigation = (mandalart: Mandalart | null) => {
  const [currentCellId, setCurrentCellId] = useState<string | null>(null);
  const [navigationPath, setNavigationPath] = useState<MandalartCell[]>([]);
  
  // ë„¤ë¹„ê²Œì´ì…˜ ìƒíƒœì™€ ê²½ë¡œ êµ¬ì¶•ì—ë§Œ ì§‘ì¤‘
};

// CRUD ì‘ì—…
const useMandalartOperations = (mandalart: Mandalart | null) => {
  // ìƒì„±, ì—…ë°ì´íŠ¸, ì‚­ì œ ì‘ì—…ì—ë§Œ ì§‘ì¤‘
};

// í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•œ ì»´í¬ì¦ˆëœ í›…
const useMandalart = (mandalartId?: string) => {
  const data = useMandalartData(mandalartId);
  const navigation = useMandalartNavigation(data.mandalart);
  const operations = useMandalartOperations(data.mandalart);
  
  return {
    ...data,
    ...navigation,
    ...operations
  };
};
```

### 4. ê°œë°œ ì›Œí¬í”Œë¡œìš° ê°œì„ 

**í…ŒìŠ¤íŠ¸ êµ¬ì¡° ê¶Œì¥ì‚¬í•­**
```
tests/
â”œâ”€â”€ __fixtures__/           # í…ŒìŠ¤íŠ¸ ë°ì´í„°
â”œâ”€â”€ __mocks__/             # Mock êµ¬í˜„
â”œâ”€â”€ integration/           # í†µí•© í…ŒìŠ¤íŠ¸
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ components/        # ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ hooks/            # í›… í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ services/         # ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ utils/            # ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
â””â”€â”€ e2e/                  # ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸
```

**ë¹Œë“œ ë° ë°°í¬ ê³ ë ¤ì‚¬í•­**
- **ì½”ë“œ ë¶„í• **: ê¸°ëŠ¥ ê¸°ë°˜ ì½”ë“œ ë¶„í•  êµ¬í˜„
- **ë²ˆë“¤ ë¶„ì„**: `@next/bundle-analyzer` ì‚¬ìš©í•˜ì—¬ í° ì˜ì¡´ì„± ì‹ë³„
- **ì ì§„ì  ë¡œë”©**: ìŠ¤ì¼ˆë ˆí†¤ ìŠ¤í¬ë¦°ê³¼ ì ì§„ì  í–¥ìƒ êµ¬í˜„
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ì„±ëŠ¥ ë©”íŠ¸ë¦­ê³¼ ëª¨ë‹ˆí„°ë§ ì¶”ê°€

---

## ê²°ë¡ 

ì´ ì¢…í•© ë¶„ì„ì€ ê¸°ì¡´ ê¸°ëŠ¥ì„ ë³´ì¡´í•˜ë©´ì„œ ìœ ì§€ë³´ìˆ˜ì„±, í™•ì¥ì„±, ê°œë°œì ê²½í—˜ì„ ê°œì„ í•˜ê¸° ìœ„í•œ Mandalart ì• í”Œë¦¬ì¼€ì´ì…˜ ë¦¬íŒ©í† ë§ ë¡œë“œë§µì„ ì œê³µí•©ë‹ˆë‹¤. í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ì„±ìˆ™ë„ ìˆ˜ì¤€ê³¼ íŒ€ ê·œëª¨ ì œì•½ì„ ê³ ë ¤í•œ ì‹¤ìš©ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ê¶Œì¥ì‚¬í•­ë“¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ìš°ì„ ìˆœìœ„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
1. **ë³´ì•ˆ ë° ì•ˆì •ì„±** - ì…ë ¥ ê²€ì¦, ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 
2. **ì½”ë“œ ë¶„í• ** - ëŒ€í˜• ì»´í¬ë„ŒíŠ¸ì™€ ì„œë¹„ìŠ¤ ë¶„í•´
3. **íƒ€ì… ì•ˆì „ì„±** - ë” ê°•ë ¥í•œ íƒ€ì… ì‹œìŠ¤í…œ êµ¬ì¶•
4. **ì•„í‚¤í…ì²˜ ê°œì„ ** - ë””ìì¸ íŒ¨í„´ ì ìš© ë° êµ¬ì¡° ê°œì„ 
5. **ì„±ëŠ¥ ìµœì í™”** - ë²ˆë“¤ í¬ê¸° ë° ë Œë”ë§ ìµœì í™”